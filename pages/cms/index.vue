<script setup lang="ts">
import zhCn from 'element-plus/dist/locale/zh-cn.mjs'
import monitor from './system/monitor.vue'

definePageMeta({
  name: '管理中心',
  layout: 'cms',
  pageTransition: {
    name: 'rotate',
  },
})
</script>

<template>
  <div class="Cms">
    <div class="Cms-Addon">
      <el-card class="Cms-Application cms-card">
        <lazy-cms-application />
      </el-card>

      <el-card v-for="i in 5" class="cms-card">
        <div class="CmsApplication-Header cms-header">
          <div class="CmsApplication-Start cms-start">
            <IconMimicIcon color="var(--el-color-primary);color: #fff" icon="i-carbon:locked" />
            等待解锁
          </div>
          <div class="CmsApplication-End cms-end">
            <el-link type="primary">
              -
            </el-link>
          </div>
        </div>
      </el-card>
    </div>

    <div class="Cms-Content">
      <el-card class="cms-card">
        <div class="CmsApplication-Header cms-header">
          <div class="CmsApplication-Start cms-start">
            <IconMimicIcon color="var(--el-color-primary);color: #fff" icon="i-carbon:notification" />
            系统公告
          </div>
          请注意保护系统隐私,请勿在公共场合打开管理系统.
          <div class="CmsApplication-End cms-end">
            <el-link type="primary">
              更多公告
            </el-link>
          </div>
        </div>
      </el-card>
      <el-card class="cms-card">
        <div class="CmsApplication-Header cms-header">
          <div class="CmsApplication-Start cms-start">
            <IconMimicIcon color="var(--el-color-primary);color: #fff" icon="i-carbon:application-web" />
            系统监控
          </div>

          <div class="CmsApplication-End cms-end">
            <el-link type="primary">
              查看更多
            </el-link>
          </div>
        </div>

        <monitor />
      </el-card>
    </div>

    <div class="Cms-User">
      <LazyCmsUser />

      <el-card class="cms-card">
        <el-config-provider :locale="zhCn">
          <el-calendar>
            <template #date-cell="{ data }">
              <p :class="data.isSelected ? 'is-selected' : ''">
                {{ data.day.split('-').slice(2).join('') }}
                {{ data.isSelected ? '✔️' : '' }}
              </p>
            </template>
            <template #header="{ date }">
              <span>工作日历</span>
              <span>{{ date }}</span>
            </template>
          </el-calendar>
        </el-config-provider>
      </el-card>

      <el-card class="cms-card">
        <ChorePersonalFortuneCard />
      </el-card>
    </div>
  </div>
</template>

<style lang="scss">
.Cms-Application {
  height: 40%;
}

.cms-card {
  .cms-header {
    .cms-start {
      display: flex;

      gap: 0.5rem;
      opacity: 0.75;
      align-items: center;
    }
    display: flex;

    font-size: 14px;
    justify-content: space-between;
  }
  margin: 1rem 0;

  flex-shrink: 0;

  overflow: hidden;
  border-radius: 16px;
  background-color: var(--el-fill-color);
}

.Cms-Addon {
  height: 100%;
  min-width: 200px;
  width: 35%;
  max-width: 480px;
}

.Cms-Content {
  width: 100%;
  height: 100%;

  border-radius: 16px;
}

.Cms-User {
  min-width: 200px;
  width: 30%;
  max-width: 480px;
}

.Cms {
  position: relative;
  padding: 1rem;
  display: flex;

  width: 100%;
  height: 100%;

  gap: 1rem;

  justify-content: space-between;
}
</style>
